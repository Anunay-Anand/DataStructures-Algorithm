<script>
//Pratising Array Questions

// 1) Building your own Array
// Key points :- An array has length property, it has insert(push), delete(pop), delete(anywhere)

class myArray {
    constructor() {
        this.data = {};
        this.length = 0;
    }

    get(index) {
        return this.data[index];
    }

    push(value) {
        //this is another method to access object property
        this.data[this.length] = value;
        this.length++;
        return this;
    }

    pop() {
        //we need to return the deleted item
        const lastItem = this.data[this.length - 1];
        //delete keyword deletes the property (key: value) both of the object
        delete this.data[this.length - 1];
        this.length--;
        return lastItem;
    }

    delete(index) {
        const item = this.data[index];
        //Shift all items
        this.shiftItems(index);
        return item;
    }

    shiftItems(index) {
        for(let i = index; i < this.length - 1; i++) {
            this.data[i] = this.data[i + 1];
        }
        //Now as the last element is no longer needed.
        //It is copied to previous index
        delete this.data[this.length - 1];
        //decrement of length
        this.length--;
    }
    
}

// 2) Reverse a string

    function reverseString(str) {
        //convert it into array
        const array1 = str.split('');
        const length = array1.length;
        //In order to complete this in O(n) time with O(1) space complexity we will use a loop with 2 indexes
        for(let i=0, j = length - 1; i <= length/2, j > length/2; i++, j--) {
            let temp = array1[i];
            array1[i] = array1[j];
            array1[j] = temp;
        }   
        //Now return string instead of array
        str = array1.join('');
        return str;
    }
    let name = 'My name is Anunay Anand';
    reverseString(name);

// 3) Merge two Sorted Array

    function mergeArray(array1, array2) {
        
        //Check for input
        if(!array1.length) {
            return array2;
        }
        else if(!array2.length) {
            return array1;
        }
        else {
            const mergedArray = [];
            //pop first element of both array for comparison
            let array1Item = array1[0];
            let array2Item = array2[0];
            //i be index of elements
            let i = 1;
            let j = 1;
            //loop constantly over the arrays until both are empty
            while(array1Item || array2Item) {
                //undefined is considered as "falsy" in JavaScript
                // if(3 < undefined or vicerversa it gives undefined)
                if(array1Item <= array2Item || !array2Item) {
                    mergedArray.push(array1Item);
                    array1Item = array1[i];
                    i++;
                }else{
                    mergedArray.push(array2Item);
                    array2Item = array2[j];
                    j++;
                }
            }
            return mergedArray;
        }

    }

    console.log(mergeArray([0, 3, 4, 29], [4, 6, 30]));

</script>