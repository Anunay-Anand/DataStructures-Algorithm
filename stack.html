<script>
    //Implementing my own stack

    //LinkedList Implementation
    // class Node {
    //     constructor(value) {
    //         this.next = null;
    //         this.value = value;
    //     }
    // }

    // class Stack {
    //     constructor() {
    //         this.top = null;
    //         this.length = 0;
    //         this.bottom = null;
    //     }

    //     peek() {
    //         return this.top;
    //     }

    //     push(value) {
    //         //Create new Node
    //         const newNode = new Node(value);
    //         if (!this.length) {
    //             this.top = newNode;
    //             this.bottom = newNode;
    //         } else {
    //             //If there is a element or node we shift current top as next node of newNode
    //             newNode.next = this.top;
    //             this.top = newNode;
    //         }
    //         this.length++;
    //         return this;
    //     }

    //     pop() {
    //         if (!this.top) {
    //             return null;
    //         } else if (this.length === 1) {
    //             this.bottom = null;
    //             this.top = null;
    //         } else {
    //             this.top = this.top.next;
    //         }
    //         this.length--;
    //         return this;
    //     }
    // }

    // const myStack = new Stack();
    // myStack.push('google');
    // myStack.push('udemy');
    // myStack.push('discord');
    // myStack.pop();
    // myStack.pop();
    // myStack.pop();
    // console.log(myStack);

    //Implementation using Array

    class Stack {
        constructor(value) {
            this.array = [];
        }

        peek() {
            return this.array[this.array.length - 1];
        }

        push(value) {
            return this.array.push(value);
        }

        pop() {
            return this.array.pop();
        }
    }

    // const myStack = new Stack();
    // myStack.push('google');
    // myStack.push('udemy');
    // myStack.push('discord');
    // myStack.pop();
    // myStack.pop();
    // myStack.pop();
    // console.log(myStack);

    //1) Valid Paranthesis (20)

    function isValid(s) {
        //     //Check if the length is odd or 1
        //     let check = s.length === 1 || s.length % 2 !== 0 ? false : true;
        //     if (check === false) {
        //         return false;
        //     }

        //     //Create hash table with all brackets closing signs
        //     //If we get a closing bracket in string we can get the value or opening of bracket to match with stack
        //     const brackets = {
        //         ')': '(',
        //         '}': '{',
        //         ']': '['
        //     }

        //     for (let i = 0; i < s.length; i++) {
        //         const stack = [];
        //         let currChar = s[i];
        //         let lastChar = stack[stack.length - 1];
        //         let delChar = brackets[currChar];

        //         if (delChar) {
        //             if (delChar === lastChar) {
        //                 stack.pop()
        //             } else {
        //                 return false
        //             }
        //         } else {
        //             stack.push(currChar)
        //         }
        //     }

        //Check for input
        if (s.length % 2 === 1 || s.length === 1) {
            return false;
        }

        //Create a hash with all brackets closing
        const brackets = {
            '}': '{',
            ')': '(',
            ']': '['
        }

        const stack = [];

        for (let i = 0; i < s.length; i++) {
            let currChar = s[i];
            let lastChar = stack[stack.length - 1];
            let inBrackets = brackets[currChar];
            //Check if the current bracket is opening bracket or not. 
            //If it is a closing bracket then we go into if and else and check if stack has it's opening 
            if (inBrackets) {
                if (inBrackets === lastChar) {
                    stack.pop();
                } else {
                    return false;
                }
            } else {
                stack.push(currChar);
            }
        }
        //If there are still element in stack it means not completed 
        return !stack.length;
    }

    isValid("((");

    // 2) Postfix to infix and evaluate

    function evaluatePostfix(S) {
        //Create a regex to check if it's an operand or not
        let reg = /[0-9]/;
        let stack = [];
        for (let i = 0; i < S.length; i++) {
            //If it is simply an operand push it onto stack
            if (reg.test(S[i])) {
                stack.push(S[i]);
            } else {
                //Pop the last two expressions entered and add operand in between and evaluate
                let t1 = parseInt(stack.pop());
                let t2 = parseInt(stack.pop());
                //Check the type of operator
                let result = S[i] === '+' ? t2 + t1 : S[i] === '-' ? t2 - t1 : S[i] === '*' ? t2 * t1 : t2 / t1;
                stack.push(result);
            }
        }
        let result = stack.pop();
        if (result === -0) {
            return 0
        };
        return result;
    }

    console.log(evaluatePostfix("231*+9-"));
</script>